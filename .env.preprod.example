# ============================================
# CONFIGURATION PREPROD
# ============================================
# Ce fichier doit être copié en .env.preprod.local
# et complété avec les vraies valeurs

# === CHEMIN CODE (sur le serveur) ===
# Chemin absolu vers le répertoire Git cloné sur le serveur
# Exemple: /opt/mycfia-preprod ou /var/www/mycfia-preprod
PREPROD_CODE_PATH=/opt/mycfia-preprod

# === PROJET DOCKER ===
PROJECT_NAME=mycfia-preprod

# === SYMFONY ===
APP_ENV=prod
APP_DEBUG=0
# ⚠️ GÉNÉRER avec : openssl rand -hex 32
APP_SECRET=CHANGE_ME_32_CHARS_MINIMUM

# === BASE DE DONNÉES ===
DB_ROOT_PASSWORD=CHANGE_ME_SECURE_ROOT_PASSWORD
DB_NAME=mycfia_preprod
DB_USER=mycfia_preprod_user
# ⚠️ GÉNÉRER avec : openssl rand -base64 32
DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD
MARIADB_VERSION=11

# === MERCURE ===
# ⚠️ GÉNÉRER avec : openssl rand -base64 32
MERCURE_JWT_SECRET=CHANGE_ME_SECURE_MERCURE_SECRET
MERCURE_VERSION=v0.16
MERCURE_URL=http://mercure/.well-known/mercure
# URL publique (via reverse proxy)
MERCURE_PUBLIC_URL=https://preprod.example.com/.well-known/mercure

# === SÉCURITÉ CORS ===
CORS_ALLOWED_ORIGINS=https://preprod.example.com

# ===========================
# CFI API Configuration
# ===========================
CFI_API_BASE_URL=https://test.cfitech.io/API
CFI_API_CLEF=CHANGE_ME
CFI_API_TIMEOUT=30
CFI_TOKEN_TTL=1800
CFI_TOKEN_REFRESH_THRESHOLD=1500

# ===========================
# Mistral AI Configuration
# ===========================
MISTRAL_API_KEY=CHANGE_ME
MISTRAL_MODEL=mistral-large-latest

# ============================================
# NOTES ADMIN RÉSEAU
# ============================================
# L'application écoute sur 127.0.0.1:8081 (HTTP uniquement)
# Configuration reverse proxy requise pour HTTPS
# Mercure Hub sur 127.0.0.1:3081
#
# SETUP SERVEUR :
# 1. Cloner dépôt Git dans PREPROD_CODE_PATH
# 2. Checkout branch preprod
# 3. Configurer .env.preprod.local avec ce template
# 4. ./deploy.sh preprod --build
