# Configuration PRODUCTION - myCfia
# Copiez vers .env.prod.local et adaptez les valeurs AVANT le deploiement
# NE JAMAIS COMMITER ce fichier avec les vraies valeurs !

# ===========================
# SYMFONY APPLICATION
# ===========================
APP_ENV=prod
APP_DEBUG=0
# Generer avec: php -r "echo bin2hex(random_bytes(32));"
APP_SECRET=CHANGE_ME_GENERATE_32_BYTES_HEX

# ===========================
# BASE DE DONNEES
# ===========================
# Mot de passe root genere aleatoirement (non utilise apres init)
DB_ROOT_PASSWORD=CHANGE_ME_RANDOM_ROOT_PASSWORD
DB_NAME=mycfia_prod
DB_USER=mycfia_prod_user
# Generer avec: openssl rand -base64 32
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
MARIADB_VERSION=11

# ===========================
# DOCKER
# ===========================
PROJECT_NAME=myCfia
BUILD_TARGET=production

# ===========================
# DOMAINE ET SSL
# ===========================
SERVER_NAME=mycfia.example.com
CORS_ALLOWED_ORIGINS=https://mycfia.example.com

# ===========================
# MERCURE (WebSocket temps reel)
# ===========================
# Generer avec: openssl rand -base64 32
MERCURE_JWT_SECRET=CHANGE_ME_MERCURE_SECRET_32_BYTES
MERCURE_VERSION=v0.16
MERCURE_PUBLIC_URL=https://mycfia.example.com/.well-known/mercure
MERCURE_URL=http://mercure/.well-known/mercure

# ===========================
# CHROMADB (Vector Database)
# ===========================
CHROMA_URL=http://chroma:8000

# ===========================
# API EXTERNE CFI
# ===========================
CFI_API_BASE_URL=https://api.cfitech.io
CFI_API_CLEF=CHANGE_ME_CFI_API_KEY
CFI_API_TIMEOUT=30
CFI_TOKEN_TTL=3600
CFI_TOKEN_REFRESH_THRESHOLD=300

# ===========================
# MISTRAL AI
# ===========================
MISTRAL_API_KEY=CHANGE_ME_MISTRAL_API_KEY

# ===========================
# MONITORING (optionnel)
# ===========================
PROMETHEUS_PORT=9090
LOKI_PORT=3100
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
# Generer avec: openssl rand -base64 16
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# ===========================
# SECURITE RESEAU
# ===========================
# Proxies de confiance (ex: Cloudflare, Nginx reverse proxy)
TRUSTED_PROXIES=127.0.0.1,REMOTE_ADDR
TRUSTED_HOSTS=^mycfia\.example\.com$
