parameters:
    level: 8
    paths:
        - src
        - tests
    symfony:
        containerXmlPath: var/cache/dev/App_KernelDevDebugContainer.xml
    doctrine:
        repositoryClass: Doctrine\ORM\EntityRepository
    excludePaths:
        - var/
        - vendor/
    ignoreErrors:
        # Ignorer les erreurs de type pour les return types des tools (structure dynamique IA)
        - '#Method App\\Service\\Tool\\.+::__invoke\(\) return type has no value type specified in iterable type array#'
        - '#Method App\\Service\\Tool\\.+::__invoke\(\) should return .+ but returns .+#'
        - '#Method App\\Service\\Tool\\GetOperationStatsTool::statsByType\(\) should return .+ but returns#'
        - '#Method App\\Service\\Tool\\GetStockAlertsTool::getNiveauUrgenceGlobal\(\) has parameter \$alerts with no value type#'
        # Ignorer l'erreur du trait AuthenticatedToolTrait (array shapes complexes non supportés dans signature)
        - '#Method App\\Service\\Tool\\.+::getUserAndTenant\(\) return type has no value type specified in iterable type array#'
        # Ignorer les erreurs AiPromptService (types dynamiques IA)
        - '#Method App\\Service\\AiPromptService::renderPrompt\(\) has parameter \$tools with no value type#'
        - '#Method App\\Service\\AiPromptService::formatToolsForPrompt\(\) has parameter \$tools with no value type#'
        # Ignorer erreur decimal vs float pour Task::$cost (Doctrine convertit decimal en string puis PHP en float)
        - '#Property App\\Entity\\Task::\$cost type mapping mismatch#'
        # Ignorer code inaccessible après try-catch dans ProjectController (false positive)
        - '#Unreachable statement - code above always terminates\.#'