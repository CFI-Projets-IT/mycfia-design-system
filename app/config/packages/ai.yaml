ai:
    platform:
        mistral:
            api_key: '%env(MISTRAL_API_KEY)%'

    agent:
        chat_operations:
            platform: 'ai.platform.mistral'
            model:
                class: 'Symfony\AI\Platform\Bridge\Mistral\Mistral'
                name: 'mistral-large-latest'
            prompt: '@ai/prompts/chat_operations.md.twig'
            track_token_usage: true
            tools:
                - service: 'App\Service\Tool\GetOperationsTool'
                  name: 'get_operations'
                  description: 'Récupère les opérations marketing (SMS, Email, Courrier) avec filtres optionnels. Retourne les détails complets avec sources CFI et métadonnées.'
                - service: 'App\Service\Tool\GetStocksTool'
                  name: 'get_stocks'
                  description: 'Récupère l''état des stocks (quantités, références, alertes) avec filtres optionnels. Retourne les détails complets avec sources CFI et métadonnées.'
                - service: 'App\Service\Tool\GetOperationStatsTool'
                  name: 'get_operation_stats'
                  description: 'Calcule des statistiques agrégées sur les opérations (par type, statut, période). Retourne les métriques avec sources CFI et métadonnées.'
                - service: 'App\Service\Tool\GetStockAlertsTool'
                  name: 'get_stock_alerts'
                  description: 'Identifie les stocks en alerte (quantité < quantiteMin). Retourne uniquement les stocks nécessitant une attention urgente avec sources CFI et métadonnées.'
