{% extends 'layouts/app.html.twig' %}

{% block title %}Chat IA - myCFiia{% endblock %}

{% block main_content %}
<div class="container-fluid" style="padding: 0;">
    <div class="chat-container" data-controller="chat">
        {# Chat Header #}
        <div class="chat-header">
            <h3 class="chat-header-title">
                <i class="bi bi-robot"></i> Assistant IA myCFiia
            </h3>
            <div class="chat-header-status">
                <span class="chat-status-indicator"></span>
                <span>En ligne</span>
            </div>
        </div>

        {# Chat Messages Area #}
        <div class="chat-messages" data-chat-target="messages">
            {# Message de bienvenue #}
            <div class="chat-message chat-message-assistant" data-message-type="assistant">
                <div class="chat-message-avatar">
                    <i class="bi bi-robot"></i>
                </div>

                <div class="chat-message-content">
                    <div class="chat-message-header">
                        <span class="chat-message-author">Assistant IA</span>
                        <span class="chat-message-time">{{ "now"|date('H:i') }}</span>
                    </div>

                    <div class="chat-message-text">
                        Bonjour ! Je suis votre assistant IA myCFiia.<br><br>
                        Cette interface est un <strong>prototype fonctionnel</strong> qui sera connecté au <strong>Symfony AI Bundle</strong> et à l'<strong>API CFI</strong> dans les prochains sprints.<br><br>
                        Pour l'instant, vous pouvez tester l'interface avec des réponses simulées.
                    </div>
                </div>
            </div>
        </div>

        {# Chat Input Area #}
        {% include 'components/chat/input.html.twig' %}
    </div>
</div>
{% endblock %}
