# Template pour configuration locale Docker Compose
# Copier ce fichier vers .env.local et adapter les valeurs selon l'environnement

# === SYMFONY ===
APP_ENV=dev
APP_SECRET=CHANGER_MOI_SECRET_64_CARACTERES_MINIMUM_ALEATOIRE_SECURISE

# === BASE DE DONNÉES ===
DB_ROOT_PASSWORD=root
DB_NAME=mycfia_db
DB_USER=mycfia_user
DB_PASSWORD=CHANGER_MOI_MOT_DE_PASSE_SECURISE
MARIADB_VERSION=11

# === DOCKER ===
PROJECT_NAME=myCfia
BUILD_TARGET=development

# === GESTION DES DROITS (automatique sur Linux/Mac) ===
# Décommenter et adapter si nécessaire
# UID=1000
# GID=1000

# === PORTS (adaptez si conflits) ===
HTTP_PORT=8080
PHPMYADMIN_PORT=8200
MAILHOG_PORT=8300
MERCURE_PORT=3000

# === MERCURE ===
# Secret JWT doit être identique entre Docker et Symfony (256 bits minimum)
# Générer avec: openssl rand -base64 32
MERCURE_JWT_SECRET=CHANGER_MOI_SECRET_JWT_BASE64_32_CARACTERES
MERCURE_VERSION=v0.16

# === VERSIONS ===
PHPMYADMIN_VERSION=latest
MAILHOG_VERSION=latest

# === MERCURE HUB CONFIGURATION ===
# MERCURE_URL: Utilisé par PHP pour publier (communication inter-conteneurs Docker)
MERCURE_URL=http://mercure/.well-known/mercure
# MERCURE_PUBLIC_URL: Utilisé par le navigateur pour se connecter (EventSource)
# Via proxy FrankenPHP (Same-Origin) - port HTTP_PORT
MERCURE_PUBLIC_URL=http://localhost:8080/.well-known/mercure

# === MONITORING (ports) ===
CHROMA_PORT=8000
GRAFANA_PORT=3200
PROMETHEUS_PORT=9090
LOKI_PORT=3100

# ===========================
# API EXTERNES - OBLIGATOIRES
# ===========================

# === MISTRAL AI ===
MISTRAL_API_KEY=CHANGER_MOI_CLE_API_MISTRAL

# === CFI API ===
CFI_API_BASE_URL=https://test.cfitech.io/API
CFI_API_CLEF=CHANGER_MOI_UUID_CFI_API
CFI_API_TIMEOUT=30
CFI_TOKEN_TTL=1800
CFI_TOKEN_REFRESH_THRESHOLD=1500

# === SERPAPI ===
SERP_API_KEY=CHANGER_MOI_CLE_API_SERP

# === FIRECRAWL ===
FIRECRAWL_API_KEY=CHANGER_MOI_CLE_API_FIRECRAWL

# === GOOGLE ADS API ===
GOOGLE_CLIENT_ID=CHANGER_MOI_CLIENT_ID_GOOGLE.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=CHANGER_MOI_CLIENT_SECRET_GOOGLE
GOOGLE_CLIENT_REFRESH_TOKEN=CHANGER_MOI_REFRESH_TOKEN_GOOGLE
GOOGLE_CLIENT_CUSTOMER_ID=CHANGER_MOI_CUSTOMER_ID
GOOGLE_CLIENT_CM_ID=CHANGER_MOI_CM_ID
GOOGLE_TOKEN_DEV=CHANGER_MOI_TOKEN_DEV

# ===========================
# NOTES D'INSTALLATION
# ===========================
# 1. Copier ce fichier: cp .env.local.example .env.local
# 2. Remplacer TOUS les "CHANGER_MOI_*" par les vraies valeurs
# 3. Pour APP_SECRET: bin/console secrets:generate-keys (ou openssl rand -hex 32)
# 4. Pour MERCURE_JWT_SECRET: openssl rand -base64 32
# 5. Les clés API doivent provenir des services respectifs (Mistral, Google, etc.)
